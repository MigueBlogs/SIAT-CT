<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1.0">
	<!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">-->
	<script src="https://unpkg.com/ionicons@4.5.5/dist/ionicons.js"></script>
	<link rel="stylesheet" href="css/bootstrap-datepicker.css">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><!--Error en esta seccion al imprimir-->
	<link rel="stylesheet" href="CSS/jquery.timepicker.min.css">
	<title>SIAT-CT</title>
	<style>
		@font-face{
				font-family:Montserrat-Bold;
				src:url(font/Montserrat-Bold.otf);
			}

		#root {
        }
		.box{
			width: 90%;
			height: 90%;
			padding: 20px;
			margin: 20px auto;
			box-shadow: 0px 0px 10px 2px grey;
			font-family:Montserrat-Bold;

		}
		/*.selected{
			cursor: pointer;
		}
		.selected:hover{	
			background-color: #0585C0;
			color: white;
		}
		.seleccionada{
			background-color: #0585CF;
			color: white;
		}*/
		.titulo{
			background: #D9D9D9 ;
			color: #A50021;
			font-weight: bold;
			font-size: 25px;
			text-align: center;
		}
		.tituloTable{
			border-style: solid;
			font-weight: bold;
			font-size: 25px;
			text-align: center;
		}
		.encabezado{
			font-family: Montserrat-Bold;
			background: gray ;
			color: white;
			font-weight: bold;
			font-size: 19px;
			/*font-size: 30px;*/
			text-align: center;
		}
		.comentarios{
			height: 90%;
			font-family: Montserrat-Bold;3
			background: transparent;
			font-size: 14px;
		}
		.fecha{
			font-family: Montserrat-Bold;
			color: black;
			font-size: 20px;
		}
		.logos{
			display: grid;
			grid-template-columns: 33.3% 33.3% 33.3%;
		}
		.tableData{
			display: grid;
			grid-template-columns: 50% 50%;
			height: auto;
		}
		.tableRegiones{
			text-align: center;
			display: grid;
			grid-template-rows: 30px auto 30px auto;
			height: auto;
			width: auto;
		}
		.tableDataL{
			display: grid;
			grid-template-rows: 1fr 1fr;
			
		}
		.tableDataR{
			display: grid;
			grid-template-rows: 1fr 1fr 1fr;
			
		}
		.subtitle{
			display: grid;
		}
		.solid {border-style: solid;}
		.dataH{
			font-weight: bold;
		}
		.dataD{
			font-weight: normal;
		}
		
		textarea {
			width: 100%;
		}
		
		@media print{
			input{
				border: none;
				text-shadow: unset;
			}
			textarea{
				border: none;
			}
			@page{
				margin:0px;
			}
			.box{
				box-shadow: none;
			}
			#root {
    
        	}
        	.encabezado{
				font-size: 30px;
			}
		}
	</style>
</head>
<body>
	<div class="box" id="root">
		<div class="logos">
			<div align="left">
				<img src="img/head1.png" width="60%">
			</div>
			<div align="center">
				<img src="img/head2.png" width="60%">
			</div>
			<div align="right">
				<img src="img/head3.png" width="60%" >
			</div>
		</div>
		<br>
		<div class="titulo">
			BOLETÍN DEL SISTEMA DE ALERTA TEMPRANA PARA CICLONES TROPICALES SIAT-CT
		</div>
		
		<div align="center" class="fecha" title="click para editar" onmouseenter="secretI()" onmouseleave="secretO()">Generado el <span id="datetime"></span><element id="secretButton"></element> / <element id="tipo"></element> <element id="NombreEvento"></element> / No. <element id="Number"></element> <element id="secretButton2"></element> <element id="saveButton"></element>
			<!--<input type="Number" name="numberOfPublish" size="0.5" min="1" max="100" value="1" >-->
		</div>
		<div>
			<textarea id="subtitle" rows="1" class='autoExpand encabezado' placeholder='Encabezado del boletín'></textarea>
		</div>
		<div class="tableData">
			<div class="tableDataL">
				<div class="solid">
				<div class="tituloTable" title="click para editar" onmouseenter="secretoI()" onmouseleave="secretoO()">NIVEL DE ALERTA SIAT - CT
				<element id="tabla"></element>
				</div>
				
				<div id="regiones">
					<table  style=" border-collapse: collapse; width: 100%; text-align: center;">
						<tr>
							<th class="solid" style="background-color: #D9D9D9">CICLÓN ACERCÁNDOSE</th>
							<th class="solid" style="background-color: #D9D9D9">CICLÓN ALEJÁNDOSE</th>
						</tr>
						<tr>
							<th class="solid" style="background-color: red; ">ROJA</th>
							<th class="solid" style="background-color: red; ">ROJA</th>
						</tr>
						<tr>
							<th id="NearR" class="solid">1</th>
							<th class="solid">2</th>
						</tr>
						<tr>
							<th class="solid" style="background-color: orange;">NARANJA</th>
							<th class="solid" style="background-color: orange;">NARANJA</th>
						</tr>
						<tr>
							<th class="solid">1</th>
							<th class="solid">2</th>
						</tr>
						<tr>
							<th class="solid" style="background-color: yellow;">AMARILLA</th>
							<th class="solid" style="background-color: yellow;">AMARILLA</th>
						</tr>
						<tr>
							<th class="solid">1</th>
							<th class="solid">2</th>
						</tr>
						<tr>
							<th class="solid" style="background-color: #38BF34;">VERDE</th>
							<th class="solid" style="background-color: #38BF34;">VERDE</th>
						</tr>
						<tr><th class="solid">1</th>
							<th class="solid">2</th>
						</tr>
						<tr>
							<th class="solid" style="background-color: #4F81BC">AZUL</th>
							<th class="solid" style="background-color: #4F81BC">AZUL</th>
						</tr>
						<tr><th class="solid">1</th>
							<th class="solid">2</th>
						</tr>
					</table>
				</div>

				<div id="tablaEditar" class="tableRegiones solid">
					<div class="solid" style="background-color: #DBBE99">CICLÓN ACERCÁNDOSE</div>
						<div class="solid">
							<table id="tablaEdos1" style=" border-collapse: collapse; width: 100%; text-align: center;">
								<tr id="Encabezado">
									<th class="solid" style="background-color: #D9D9D9">Nivel de Alerta</th>
									<th class="solid" style="background-color: #D9D9D9">Región afectada</th>
								</tr>
						 <tr id="filatest">
									<th class="solid">
											<select id="NivelDeAlerta"> 
												<option value="1" style="background-color: red; ">ROJA</option>
												<option value="2" style="background-color: orange;">NARANJA</option>
												<option value="3" style="background-color: yellow;">AMARILLA</option>
												<option value="4" style="background-color: #38BF34;">VERDE</option>
												<option value="5" style="background-color: #4F81BC">AZUL</option>
											</select>
									</th>
									<th class="solid">
										<select id="Estado"> 
											<option value="">Baja California Norte</option>
											<option value="">Baja California Sur</option>
											<option value="">Sinaloa</option>
										</select>
											<select id="Region"> 
												<option value="">Norte</option>
												<option value="">Centro</option>
												<option value="">Sur</option>
											</select>
											<button id="filatest" type="button" class="btn btn-outline-danger btn-sm" onclick="eliminar(this.id);" title="Elimina una por una las filas"><ion-icon name="close"></ion-icon></button>
									</th>
								</tr>
							</table>
								<tr>
									<th><button id="bt_add" type="button" onclick="agregar('tablaEdos1')" class="btn btn-outline-info btn-sm" title="Agregar una región"><ion-icon name="add"></ion-icon></button></th>
									
								</tr>
						</div>
					<div class="solid" style="background-color: #DBBE99">CICLÓN ALEJÁNDOSE</div>
					<div class="solid">
						<div class="solid">
						<table id="tablaEdos2" style=" border-collapse: collapse; width: 100%; text-align: center;">
							<tr id="Encabezado">
								<th class="solid" style="background-color: #D9D9D9">Nivel de Alerta</th>
								<th class="solid" style="background-color: #D9D9D9">Región afectada</th>
							</tr>
					 <tr id="filatest">
								<th class="solid">
										<select id="NivelDeAlerta"> 
											<option value="1" style="background-color: red; ">ROJA</option>
											<option value="2" style="background-color: orange;">NARANJA</option>
											<option value="3" style="background-color: yellow;">AMARILLA</option>
											<option value="4" style="background-color: #38BF34;">VERDE</option>
											<option value="5" style="background-color: #4F81BC">AZUL</option>
										</select>
								</th>
								<th class="solid">
										<select id="Estado"> 
											<option value="">Baja California Norte</option>
											<option value="">Baja California Sur</option>
											<option value="">Sinaloa</option>
										</select>
										<select id="Region"> 
											<option value="">Norte</option>
											<option value="">Centro</option>
											<option value="">Sur</option>
										</select>
										<button id="filatest" type="button" class="btn btn-outline-danger btn-sm" onclick="eliminar(this.id);" title="Elimina una por una las filas"><ion-icon name="close"></ion-icon></button>
								</th>
							</tr>
						</table>
							<tr>
								<th><button id="bt_add" type="button" onclick="agregar('tablaEdos2')" class="btn btn-outline-info btn-sm" title="Agregar una región"><ion-icon name="add"></ion-icon></button></th>
								
							</tr>
					</div>
					</div>
					<center>
						<button class="btn btn-outline-success" onclick="guardarDatos()" id="SaveData">Guardar datos</button>	
					</center>
				</div>	
				

				</div>
				<div class="solid">
					<div class="tituloTable">INFORMACIÓN GENERAL</div>
					<div class="dataH"> HORA: <element class="dataD" id="hora"></element> </div>
					<div class="dataH"> COORDENADAS: <element class="dataD" id="coords"></element> </div>
					<div class="dataH"> LOCALIZACIÓN: <element class="dataD" id="loc"></element> </div>
					<div class="dataH"> DESPLAZAMIENTO: <element class="dataD" id="despl"></element> </div>
					<div class="dataH"> VIENTOS MÁXIMOS SOSTENIDOS: <element class="dataD" id="viento"></element> </div>
					<div class="dataH"> RACHAS DE VIENTO MÁXIMAS: <element class="dataD" id="racha"></element> </div>
				</div>
				
			</div> 
			<div class="tableDataR">
				<div class="solid">
					<div class="tituloTable">PRONÓSTICO DE TRAYECTORIA </div>
					<div id="map" >
						<a onclick="swipe()"  onmouseover="" style="cursor: pointer;"><img style='height: 100%; width: 100%;' src="img/mapaTest.jpg" ></a>
					</div>
				</div>

				<div class="solid">
				<div class="tituloTable">Comentarios</div>
				<textarea class='autoExpand comentarios' placeholder='Escribe aquí los comentarios'>
&#9679 Recomendación 1
&#9679 Recomendación 2
&#9679 Recomendación 3
&#9679 Recomendación 4
&#9679 Recomendación 5
				</textarea>
				</div>

				<div class="solid">
					<div class="tituloTable">ZONAS DE VIGILANCIA NHC-SMN</div>
					No se han establecido zonas de vigilancia por este sistema en México.

				</div>
			</div>
		</div>
		
		<br>
		<br>
		

	</div>
	
	<!-- Button to generate PDF. -->
	<center>
	<button class="btn btn-outline-success" onclick="test()">Generar PDF</button>	
	</center>
   


		<!--JQUERY-->
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
		<!--MY SCRIPTS-->
	    <script src="JS/funciones.js"></script>
		<script src="JS/StaticText.js"></script>
		<!--JS BOOTSRAP-->
		<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
		<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
		time picker and date picker-->
		<script src="JS/bootstrap-datepicker.js"></script>
		<script src="JS/bootstrap-datepicker.es.min.js" charset="UTF-8"></script>
		<script src="JS/jquery.timepicker.min.js"></script>
		 
		 <!-- Include html2pdf bundle. -->
	     <script src="dist/html2pdf.bundle.js"></script>

	    <script>
	      function test() {

	      	/*Cambios para imprimir correctamente el documento*/
	      	$(".titulo").css("font-size", "15px");
	      	//30 px es el tamaño final del letrero (el pdf duplica el Pixelaje del texto)
	      	$(".encabezado").css("font-size", "30px");
	      	autoExpand(document.getElementById("subtitle"));
	        //$(".encabezado").css("font-size", "25px");
	        //alert(document.getElementById("subtitle").style.height);
	        if(parseInt(document.getElementById("subtitle").style.height) > 0 && parseInt(document.getElementById("subtitle").style.height) <=55 ){
	        	document.getElementById("subtitle").rows = 1;
	        	//alert(document.getElementById("subtitle").style.height);
	        	//alert(document.getElementById("subtitle").rows);
	        }if(parseInt(document.getElementById("subtitle").style.height) > 55 && parseInt(document.getElementById("subtitle").style.height) <=100 ){
	        	document.getElementById("subtitle").rows = 2;
	        	//alert(document.getElementById("subtitle").style.height);
	        	//alert(document.getElementById("subtitle").rows);
	        }if(parseInt(document.getElementById("subtitle").style.height) > 100 && parseInt(document.getElementById("subtitle").style.height) <=235 ){
	        	document.getElementById("subtitle").rows = 3;
	        	//alert(document.getElementById("subtitle").style.height);
	        	//alert(document.getElementById("subtitle").rows);
	        }
	        

	        $("fecha").css("font-size", "14px");
	        $(".encabezado").css("font-size", "15px");
	        autoExpand(document.getElementById("subtitle"));
	        $(".tituloTable").css("font-size", "19px");
	       
			
	        /* Get the element.*/
	        var element = document.getElementById('root');
	        // Generate the PDF.
	        html2pdf().from(element).set({
	          margin: [-0.3,-0.65],
	          filename: 'test.pdf',
	          mode: 'avoid-all',
	          html2canvas: { scale: 3 },
	          letterRendering: true,
	          jsPDF: {orientation: 'portrait', unit: 'in', format: 'letter', compressPDF: true}
	        }).save();
	      }
	    </script>
     </body>
</html>